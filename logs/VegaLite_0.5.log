>>> 'Pkg.add("VegaLite")' log
INFO: Cloning cache of VegaLite from https://github.com/fredo-dedup/VegaLite.jl.git
INFO: Installing BaseTestNext v0.2.2
INFO: Installing BinDeps v0.6.0
INFO: Installing Cairo v0.3.0
INFO: Installing ColorTypes v0.5.1
INFO: Installing Colors v0.7.3
INFO: Installing FixedPointNumbers v0.3.8
INFO: Installing Graphics v0.2.0
INFO: Installing Gtk v0.13.0
INFO: Installing NaNMath v0.2.5
INFO: Installing NodeJS v0.0.1
INFO: Installing Reexport v0.0.3
INFO: Installing Requires v0.3.0
INFO: Installing Rsvg v0.1.0
INFO: Installing SHA v0.3.3
INFO: Installing URIParser v0.1.8
INFO: Installing VegaLite v0.1.0
INFO: Building Cairo
WARNING: BinDeps.shlib_ext is deprecated.
  likely near /home/vagrant/.julia/v0.5/Cairo/deps/build.jl:112
INFO: Building Gtk
Installing dependency libgtk-3-0 via `sudo apt-get install libgtk-3-0`:
Reading package lists...
Building dependency tree...
Reading state information...
libgtk-3-0 is already the newest version.
The following package was automatically installed and is no longer required:
  java-common
Use 'apt-get autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Installing dependency libgtk-3-0 via `sudo apt-get install libgtk-3-0`:
Reading package lists...
Building dependency tree...
Reading state information...
libgtk-3-0 is already the newest version.
The following package was automatically installed and is no longer required:
  java-common
Use 'apt-get autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Installing dependency libgtk-3-0 via `sudo apt-get install libgtk-3-0`:
Reading package lists...
Building dependency tree...
Reading state information...
libgtk-3-0 is already the newest version.
The following package was automatically installed and is no longer required:
  java-common
Use 'apt-get autoremove' to remove it.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
INFO: Building NodeJS
INFO: Building Rsvg
INFO: Building VegaLite

> canvas@1.6.5 install /home/vagrant/.julia/v0.5/VegaLite/deps/node_modules/canvas
> node-gyp rebuild

Package cairo was not found in the pkg-config search path.
Perhaps you should add the directory containing `cairo.pc'
to the PKG_CONFIG_PATH environment variable
No package 'cairo' found
gyp: Call to './util/has_lib.sh freetype' returned exit status 0 while in binding.gyp. while trying to load binding.gyp
gyp ERR! configure error 
gyp ERR! stack Error: `gyp` failed with exit code: 1
gyp ERR! stack     at ChildProcess.onCpExit (/home/vagrant/.julia/v0.5/NodeJS/deps/downloads/node-v6.10.3-linux-x64/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:305:16)
gyp ERR! stack     at emitTwo (events.js:106:13)
gyp ERR! stack     at ChildProcess.emit (events.js:191:7)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)
gyp ERR! System Linux 3.13.0-119-generic
gyp ERR! command "/home/vagrant/.julia/v0.5/NodeJS/deps/downloads/node-v6.10.3-linux-x64/bin/node" "/home/vagrant/.julia/v0.5/NodeJS/deps/downloads/node-v6.10.3-linux-x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/vagrant/.julia/v0.5/VegaLite/deps/node_modules/canvas
gyp ERR! node -v v6.10.3
gyp ERR! node-gyp -v v3.4.0
gyp ERR! not ok 
vegalitejl@1.0.0 /home/vagrant/.julia/v0.5/VegaLite/deps
├── rw@1.3.3 
├─┬ vega@3.0.0-beta.34 
│ ├─┬ vega-crossfilter@1.0.0-beta 
│ │ └── d3-array@1.2.0 
│ ├── vega-dataflow@2.0.0-beta.29 
│ ├── vega-datasets@1.8.0  (git://github.com/vega/vega-datasets.git#26bddc53d6112cff239436cdc85f56249c39e9e0)
│ ├─┬ vega-encode@1.0.0-beta.20 
│ │ ├── d3-format@1.2.0 
│ │ └── d3-interpolate@1.1.5 
│ ├── vega-expression@2.3.0 
│ ├─┬ vega-force@1.0.0-beta.3 
│ │ └─┬ d3-force@1.0.6 
│ │   ├── d3-dispatch@1.0.3 
│ │   ├── d3-quadtree@1.0.3 
│ │   └── d3-timer@1.0.6 
│ ├─┬ vega-geo@1.0.0-beta.5 
│ │ ├── d3-contour@1.1.0 
│ │ └── d3-geo@1.6.4 
│ ├─┬ vega-hierarchy@1.0.0-beta.2 
│ │ ├── d3-collection@1.0.3 
│ │ └── d3-hierarchy@1.1.5 
│ ├─┬ vega-loader@2.0.0-beta.8 
│ │ ├─┬ d3-dsv@1.0.5 
│ │ │ ├─┬ commander@2.9.0 
│ │ │ │ └── graceful-readlink@1.0.1 
│ │ │ └── iconv-lite@0.4.18 
│ │ ├─┬ d3-request@1.0.5 
│ │ │ └── xmlhttprequest@1.8.0 
│ │ ├─┬ d3-time-format@2.0.5 
│ │ │ └── d3-time@1.0.7 
│ │ └─┬ topojson@1.6.27 
│ │   ├── d3@3.5.17 
│ │   ├─┬ d3-geo-projection@0.2.16 
│ │   │ └─┬ brfs@1.4.3 
│ │   │   ├─┬ quote-stream@1.0.2 
│ │   │   │ ├── buffer-equal@0.0.1 
│ │   │   │ └── minimist@1.2.0 
│ │   │   ├─┬ resolve@1.3.3 
│ │   │   │ └── path-parse@1.0.5 
│ │   │   ├─┬ static-module@1.3.2 
│ │   │   │ ├─┬ concat-stream@1.6.0 
│ │   │   │ │ ├── inherits@2.0.3 
│ │   │   │ │ └── typedarray@0.0.6 
│ │   │   │ ├─┬ duplexer2@0.0.2 
│ │   │   │ │ └─┬ readable-stream@1.1.14 
│ │   │   │ │   ├── isarray@0.0.1 
│ │   │   │ │   └── string_decoder@0.10.31 
│ │   │   │ ├─┬ escodegen@1.3.3 
│ │   │   │ │ ├── esprima@1.1.1 
│ │   │   │ │ ├── estraverse@1.5.1 
│ │   │   │ │ ├── esutils@1.0.0 
│ │   │   │ │ └─┬ source-map@0.1.43 
│ │   │   │ │   └── amdefine@1.0.1 
│ │   │   │ ├─┬ falafel@1.2.0 
│ │   │   │ │ ├── acorn@1.2.2 
│ │   │   │ │ ├── foreach@2.0.5 
│ │   │   │ │ ├── isarray@0.0.1 
│ │   │   │ │ └── object-keys@1.0.11 
│ │   │   │ ├─┬ has@1.0.1 
│ │   │   │ │ └── function-bind@1.1.0 
│ │   │   │ ├── object-inspect@0.4.0 
│ │   │   │ ├─┬ quote-stream@0.0.0 
│ │   │   │ │ └── minimist@0.0.8 
│ │   │   │ ├─┬ readable-stream@1.0.34 
│ │   │   │ │ ├── core-util-is@1.0.2 
│ │   │   │ │ ├── isarray@0.0.1 
│ │   │   │ │ └── string_decoder@0.10.31 
│ │   │   │ ├── shallow-copy@0.0.1 
│ │   │   │ ├─┬ static-eval@0.2.4 
│ │   │   │ │ └─┬ escodegen@0.0.28 
│ │   │   │ │   ├── esprima@1.0.4 
│ │   │   │ │   └── estraverse@1.3.2 
│ │   │   │ └─┬ through2@0.4.2 
│ │   │   │   └─┬ xtend@2.1.2 
│ │   │   │     └── object-keys@0.4.0 
│ │   │   └─┬ through2@2.0.3 
│ │   │     ├─┬ readable-stream@2.2.11 
│ │   │     │ ├── isarray@1.0.0 
│ │   │     │ ├── process-nextick-args@1.0.7 
│ │   │     │ ├── safe-buffer@5.0.1 
│ │   │     │ ├── string_decoder@1.0.2 
│ │   │     │ └── util-deprecate@1.0.2 
│ │   │     └── xtend@4.0.1 
│ │   ├── d3-queue@2.0.3 
│ │   ├─┬ optimist@0.3.7 
│ │   │ └── wordwrap@0.0.3 
│ │   └─┬ shapefile@0.3.1 
│ │     ├── d3-queue@1.2.3 
│ │     └── iconv-lite@0.2.11 
│ ├─┬ vega-parser@1.0.0-beta.63 
│ │ └── d3-color@1.0.3 
│ ├── vega-runtime@1.0.0-beta.6 
│ ├─┬ vega-scale@2.0.0-beta.6 
│ │ ├── d3-scale@1.0.6 
│ │ └── d3-scale-chromatic@1.1.1 
│ ├─┬ vega-scenegraph@2.0.0-beta.34 
│ │ ├── d3-path@1.0.5 
│ │ └── d3-shape@1.2.0 
│ ├── vega-statistics@1.1.2 
│ ├── vega-util@1.3.0 
│ ├── vega-view@1.0.0-beta.36 
│ ├─┬ vega-voronoi@1.0.0-beta.1 
│ │ └── d3-voronoi@1.1.2 
│ ├── vega-wordcloud@1.0.0-beta.5 
│ └─┬ yargs@4.8.1 
│   ├─┬ cliui@3.2.0 
│   │ ├─┬ strip-ansi@3.0.1 
│   │ │ └── ansi-regex@2.1.1 
│   │ └── wrap-ansi@2.1.0 
│   ├── decamelize@1.2.0 
│   ├── get-caller-file@1.0.2 
│   ├── lodash.assign@4.2.0 
│   ├─┬ os-locale@1.4.0 
│   │ └─┬ lcid@1.0.0 
│   │   └── invert-kv@1.0.0 
│   ├─┬ read-pkg-up@1.0.1 
│   │ ├─┬ find-up@1.1.2 
│   │ │ ├── path-exists@2.1.0 
│   │ │ └─┬ pinkie-promise@2.0.1 
│   │ │   └── pinkie@2.0.4 
│   │ └─┬ read-pkg@1.1.0 
│   │   ├─┬ load-json-file@1.1.0 
│   │   │ ├── graceful-fs@4.1.11 
│   │   │ ├─┬ parse-json@2.2.0 
│   │   │ │ └─┬ error-ex@1.3.1 
│   │   │ │   └── is-arrayish@0.2.1 
│   │   │ ├── pify@2.3.0 
│   │   │ └─┬ strip-bom@2.0.0 
│   │   │   └── is-utf8@0.2.1 
│   │   ├─┬ normalize-package-data@2.3.8 
│   │   │ ├── hosted-git-info@2.4.2 
│   │   │ ├─┬ is-builtin-module@1.0.0 
│   │   │ │ └── builtin-modules@1.1.1 
│   │   │ ├── semver@5.3.0 
│   │   │ └─┬ validate-npm-package-license@3.0.1 
│   │   │   ├─┬ spdx-correct@1.0.2 
│   │   │   │ └── spdx-license-ids@1.2.2 
│   │   │   └── spdx-expression-parse@1.0.4 
│   │   └── path-type@1.1.0 
│   ├── require-directory@2.1.1 
│   ├── require-main-filename@1.0.1 
│   ├── set-blocking@2.0.0 
│   ├─┬ string-width@1.0.2 
│   │ ├── code-point-at@1.1.0 
│   │ └─┬ is-fullwidth-code-point@1.0.0 
│   │   └── number-is-nan@1.0.1 
│   ├── which-module@1.0.0 
│   ├── window-size@0.2.0 
│   ├── y18n@3.2.1 
│   └─┬ yargs-parser@2.4.1 
│     └── camelcase@3.0.0 
├─┬ vega-embed@3.0.0-beta.18 
│ ├── d3-selection@1.1.0 
│ └── vega-schema-url-parser@1.0.0-beta.2 
└─┬ vega-lite@2.0.0-beta.4 
  ├─┬ json-stable-stringify@1.0.1 
  │ └── jsonify@0.0.0 
  ├── tslib@1.7.1 
  ├── vega-event-selector@2.0.0-beta 
  └─┬ yargs@8.0.2 
    ├── camelcase@4.1.0 
    ├─┬ os-locale@2.0.0 
    │ ├─┬ execa@0.5.1 
    │ │ ├─┬ cross-spawn@4.0.2 
    │ │ │ ├─┬ lru-cache@4.1.1 
    │ │ │ │ ├── pseudomap@1.0.2 
    │ │ │ │ └── yallist@2.1.2 
    │ │ │ └─┬ which@1.2.14 
    │ │ │   └── isexe@2.0.0 
    │ │ ├─┬ get-stream@2.3.1 
    │ │ │ └── object-assign@4.1.1 
    │ │ ├── is-stream@1.1.0 
    │ │ ├─┬ npm-run-path@2.0.2 
    │ │ │ └── path-key@2.0.1 
    │ │ ├── p-finally@1.0.0 
    │ │ ├── signal-exit@3.0.2 
    │ │ └── strip-eof@1.0.0 
    │ └─┬ mem@1.1.0 
    │   └── mimic-fn@1.1.0 
    ├─┬ read-pkg-up@2.0.0 
    │ ├─┬ find-up@2.1.0 
    │ │ └─┬ locate-path@2.0.0 
    │ │   ├─┬ p-locate@2.0.0 
    │ │   │ └── p-limit@1.1.0 
    │ │   └── path-exists@3.0.0 
    │ └─┬ read-pkg@2.0.0 
    │   ├─┬ load-json-file@2.0.0 
    │   │ └── strip-bom@3.0.0 
    │   └── path-type@2.0.0 
    ├─┬ string-width@2.0.0 
    │ └── is-fullwidth-code-point@2.0.0 
    ├── which-module@2.0.0 
    └── yargs-parser@7.0.0 

npm WARN vegalitejl@1.0.0 No description
npm WARN vegalitejl@1.0.0 No repository field.
npm WARN vegalitejl@1.0.0 No license field.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.5 (node_modules/canvas):
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.5 install: `node-gyp rebuild`
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1
INFO: Package database updated
INFO: METADATA is out-of-date — you may not have the latest version of VegaLite
INFO: Use `Pkg.update()` to get the latest versions of your packages

>>> 'Pkg.test("VegaLite")' log
Julia Version 0.5.2
Commit f4c6c9d (2017-05-06 16:34 UTC)
Platform Info:
  OS: Linux (x86_64-pc-linux-gnu)
  CPU: Intel(R) Xeon(R) CPU E3-1241 v3 @ 3.50GHz
  WORD_SIZE: 64
           Ubuntu 14.04.5 LTS
  uname: Linux 3.13.0-119-generic #166-Ubuntu SMP Wed May 3 12:18:55 UTC 2017 x86_64 x86_64
Memory: 2.9392738342285156 GB (549.16796875 MB free)
Uptime: 51231.0 sec
Load Avg:  0.77099609375  0.927734375  0.98876953125
Intel(R) Xeon(R) CPU E3-1241 v3 @ 3.50GHz: 
       speed         user         nice          sys         idle          irq
#1  3500 MHz    3205299 s       1975 s     271120 s    1057184 s        120 s
#2  3500 MHz    1199340 s       5046 s     132089 s    3640040 s          4 s

  BLAS: libopenblas (USE64BITINT DYNAMIC_ARCH NO_AFFINITY Nehalem)
  LAPACK: libopenblas64_
  LIBM: libopenlibm
  LLVM: libLLVM-3.7.1 (ORCJIT, haswell)
Environment:
  TERM = vt100
  LD_LIBRARY_PATH = :/usr/local/lib/
  PATH = /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/vagrant/julia/bin/
  JAVA_HOME = /usr/lib/jvm/java-7-oracle
  HOME = /home/vagrant

Package Directory: /home/vagrant/.julia/v0.5
2 required packages:
 - JSON                          0.12.0
 - VegaLite                      0.1.0
16 additional packages:
 - BaseTestNext                  0.2.2
 - BinDeps                       0.6.0
 - Cairo                         0.3.0
 - ColorTypes                    0.5.1
 - Colors                        0.7.3
 - Compat                        0.26.0
 - FixedPointNumbers             0.3.8
 - Graphics                      0.2.0
 - Gtk                           0.13.0
 - NaNMath                       0.2.5
 - NodeJS                        0.0.1
 - Reexport                      0.0.3
 - Requires                      0.3.0
 - Rsvg                          0.1.0
 - SHA                           0.3.3
 - URIParser                     0.1.8
INFO: Computing test dependencies for VegaLite...
INFO: Installing DataArrays v0.4.1
INFO: Installing DataFrames v0.9.1
INFO: Installing DataStructures v0.5.3
INFO: Installing FileIO v0.4.0
INFO: Installing GZip v0.3.0
INFO: Installing RData v0.1.0
INFO: Installing RDatasets v0.2.0
INFO: Installing SortingAlgorithms v0.1.1
INFO: Installing SpecialFunctions v0.1.1
INFO: Installing StatsBase v0.16.0
INFO: Testing VegaLite
ERROR: LoadError: InitError: Cannot open display: 
 in Gtk.GLib.GError(::Gtk.##229#230) at /home/vagrant/.julia/v0.5/Gtk/src/GLib/gerror.jl:17
 in __init__() at /home/vagrant/.julia/v0.5/Gtk/src/events.jl:10
 in _include_from_serialized(::String) at ./loading.jl:150
 in _require_from_serialized(::Int64, ::Symbol, ::String, ::Bool) at ./loading.jl:187
 in _require_search_from_serialized(::Int64, ::Symbol, ::String, ::Bool) at ./loading.jl:217
 in require(::Symbol) at ./loading.jl:371
 in include_from_node1(::String) at ./loading.jl:488
 in macro expansion; at ./none:2 [inlined]
 in anonymous at ./<missing>:?
 in eval(::Module, ::Any) at ./boot.jl:234
 in process_options(::Base.JLOptions) at ./client.jl:242
 in _start() at ./client.jl:321
during initialization of module Gtk
while loading /home/vagrant/.julia/v0.5/Rsvg/src/Rsvg.jl, in expression starting on line 9
ERROR: LoadError: Failed to precompile Rsvg to /home/vagrant/.julia/lib/v0.5/Rsvg.ji.
 in compilecache(::String) at ./loading.jl:593
 in require(::Symbol) at ./loading.jl:393
 in include_from_node1(::String) at ./loading.jl:488
 in macro expansion; at ./none:2 [inlined]
 in anonymous at ./<missing>:?
 in eval(::Module, ::Any) at ./boot.jl:234
 in process_options(::Base.JLOptions) at ./client.jl:242
 in _start() at ./client.jl:321
while loading /home/vagrant/.julia/v0.5/VegaLite/src/VegaLite.jl, in expression starting on line 5
ERROR: LoadError: Failed to precompile VegaLite to /home/vagrant/.julia/lib/v0.5/VegaLite.ji.
 in compilecache(::String) at ./loading.jl:593
 in require(::Symbol) at ./loading.jl:422
 in include_from_node1(::String) at ./loading.jl:488
 in process_options(::Base.JLOptions) at ./client.jl:265
 in _start() at ./client.jl:321
while loading /home/vagrant/.julia/v0.5/VegaLite/test/runtests.jl, in expression starting on line 2
==============================[ ERROR: VegaLite ]===============================

failed process: Process(`/home/vagrant/julia/bin/julia -Cx86-64 -J/home/vagrant/julia/lib/julia/sys.so --compile=yes --depwarn=yes --check-bounds=yes --code-coverage=none --color=no --compilecache=yes /home/vagrant/.julia/v0.5/VegaLite/test/runtests.jl`, ProcessExited(1)) [1]

================================================================================
INFO: Removing DataArrays v0.4.1
INFO: Removing DataFrames v0.9.1
INFO: Removing DataStructures v0.5.3
INFO: Removing FileIO v0.4.0
INFO: Removing GZip v0.3.0
INFO: Removing RData v0.1.0
INFO: Removing RDatasets v0.2.0
INFO: Removing SortingAlgorithms v0.1.1
INFO: Removing SpecialFunctions v0.1.1
INFO: Removing StatsBase v0.16.0
ERROR: VegaLite had test errors
 in #test#61(::Bool, ::Function, ::Array{AbstractString,1}) at ./pkg/entry.jl:748
 in (::Base.Pkg.Entry.#kw##test)(::Array{Any,1}, ::Base.Pkg.Entry.#test, ::Array{AbstractString,1}) at ./<missing>:0
 in (::Base.Pkg.Dir.##2#3{Array{Any,1},Base.Pkg.Entry.#test,Tuple{Array{AbstractString,1}}})() at ./pkg/dir.jl:31
 in cd(::Base.Pkg.Dir.##2#3{Array{Any,1},Base.Pkg.Entry.#test,Tuple{Array{AbstractString,1}}}, ::String) at ./file.jl:59
 in #cd#1(::Array{Any,1}, ::Function, ::Function, ::Array{AbstractString,1}, ::Vararg{Array{AbstractString,1},N}) at ./pkg/dir.jl:31
 in (::Base.Pkg.Dir.#kw##cd)(::Array{Any,1}, ::Base.Pkg.Dir.#cd, ::Function, ::Array{AbstractString,1}, ::Vararg{Array{AbstractString,1},N}) at ./<missing>:0
 in #test#3(::Bool, ::Function, ::String, ::Vararg{String,N}) at ./pkg/pkg.jl:258
 in test(::String, ::Vararg{String,N}) at ./pkg/pkg.jl:258
 in eval(::Module, ::Any) at ./boot.jl:234
 in process_options(::Base.JLOptions) at ./client.jl:242
 in _start() at ./client.jl:321

>>> End of log
